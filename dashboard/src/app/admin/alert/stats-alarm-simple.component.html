<!--
  ~ This file is part of the Cerebro distribution.
  ~ (https://github.com/voyages-sncf-technologies/cerebro)
  ~ Copyright (C) 2017 VSCT.
  ~
  ~ Cerebro is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, version 3 of the License.
  ~
  ~ Cerebro is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program. If not, see <http://www.gnu.org/licenses/>.
  -->

<button type="button" class="btn btn-default col-md-4 panel-heading" (click)="modal2Hours.open()">
  <span class="glyphicon glyphicon-plus-sign"></span> {{title}}</button>
  <bs-modal #modal2Hours size="'lg'">
    <bs-modal-header>
      <h4 class="modal-title">Detail: {{title}}</h4>
    </bs-modal-header>
    <bs-modal-body>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Name</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let stat of stats">
            <td><a (click)="gotoDetail(stat.alarmId)" style="font-size: small; cursor: pointer" ><strong>{{alarmNames[stat.alarmId]}}</strong></a></td>
            <td>
              <button type="button" *ngIf="stat.type=='WARN'" class="chip" data-toggle="button" class=" btn-warning toggle-status active" disabled
                      title="WARN" style="font-size: xx-small">
                <span class="glyphicon glyphicon-bell"></span>
              </button>
              <button type="button" *ngIf="stat.type=='ERROR'" class="chip" data-toggle="button" class=" btn-danger toggle-status active" disabled
                      title="ERROR" style="font-size: xx-small">
                <span class="glyphicon glyphicon-bell"></span>
              </button>
              <button type="button" *ngIf="stat.type=='OK'" class="chip" data-toggle="button" class=" btn-success toggle-status active" disabled
                      title="OK" style="font-size: xx-small">
                <span class="glyphicon glyphicon-bell"></span>
              </button>
              <button type="button" *ngIf="stat.type=='UNKNOWN'" class="chip" data-toggle="button" class=" btn-default toggle-status active" disabled
                      title="UNKNOWN" style="font-size: xx-small">
                <span class="glyphicon glyphicon-bell"></span>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="alert alert-success"
      *ngIf="stats == null || stats.length == 0"
      >No alerts found</div>
    </bs-modal-body>
    <bs-modal-footer>
      <button type="button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">Done</span></button>
    </bs-modal-footer>
  </bs-modal>
